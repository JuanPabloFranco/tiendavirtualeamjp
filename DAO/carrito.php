<?php//error_reporting(E_PARSE);include '../Conexion/consulSQL.php';session_start();$suma = 0;if (isset($_GET['producto'])) {    $contador = 0; // Variable para identificar si se cambio cantidad    //Inicialmente se recorre el carrito verificando si el producto ya se encuentra registrado    if (isset($_SESSION['producto'])) { // Si existe carrito        foreach ($_SESSION['producto'] as $key => $producto) { //Se recorre el carrito            if ($producto['id'] == $_GET['producto']) {// Si el Id de la posicion es igual al registrado                //Se crea un nuevo producto                $producto = array('id' => $producto['id'], 'nombre' => $producto['nombre'], 'cantidad' => ($producto['cantidad'] + 1), 'precio' => $producto['precio']);                //Se ingresa el producto nuevo en la posicion del anterior producto cambiando la cantidad                $_SESSION['producto'][$key] = $producto;                $contador++;                $break;            }        }    }    if ($contador == 0) { // Si no se ha cambiado la cantidad de un producto        // Se busca los datos del producto en base de datos        $consulta = ejecutarSQL::consultar("SELECT nombre_prod, precio FROM producto WHERE id=" . $_GET['producto']);        $vec = mysqli_fetch_row($consulta);        $id = $_GET['producto']; // Se almacena el id en una variable        $nombre = $vec[0]; // Se almacena el nombre en una variable        $precio = $vec[1]; // Se almacena el precio en una variable        $cantidad = 1; // Se almacena el cantidad en una variable        //Se crea un producto        $producto = array('id' => $id, 'nombre' => $nombre, 'cantidad' => $cantidad, 'precio' => $precio);        if (isset($_SESSION['producto'])) {// Si existe productos en el carrito            //Se almacena el producto nuevo en una posicion consecutiva            $_SESSION['producto'][count($_SESSION['producto'])] = $producto;        } else {            //Se almacena el producto en la primera posicion            $_SESSION['producto'][0] = $producto;        }    }} elseif (isset($_GET['del_prod'])) {    echo "entro";    foreach ($_SESSION['producto'] as $key => $producto) {        if ($producto['id'] == $_GET['del_prod']) {            unset($_SESSION['producto'][$key]);        }    }}?><div class="caption">    <table class="table table-bordered" style="color: white">        <tr style='text-align: center'><td>PRODUCTO</td><td>CANTIDAD</td><td>PRECIO</td><td>SUBTOTAL</td></tr>        <?php        if (isset($_SESSION['producto'])) {            foreach ($_SESSION['producto'] as $key => $producto) {                ?>                <tr style='text-align: center'><td><?php echo $producto['nombre'] ?></td><td><?php echo $producto['cantidad'] ?></td><td>$<?php echo $producto['precio'] ?></td>                    <td>$<?php echo $producto['precio'] * $producto['cantidad']; ?></td>                                    </tr>                <?php                $suma += ($producto['precio'] * $producto['cantidad']);            }        }        $_SESSION['sumaTotal'] = $suma;        ?>        <tr style='text-align: center'><td colspan='3' >TOTAL</td><td>$<?php echo $suma; ?> + Domicilio</td></tr>            </table><br><br>El valor del domicilio oscila entre $0 y $5000 seg√∫n de la distancia</div>